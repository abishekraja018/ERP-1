# Generated by Django 3.1.1 on 2026-01-29 17:04

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import main_app.models
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='Account_User',
            fields=[
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('email', models.EmailField(max_length=254, unique=True, verbose_name='Email Address')),
                ('full_name', models.CharField(max_length=200, verbose_name='Full Name')),
                ('role', models.CharField(choices=[('HOD', 'Head of Department'), ('FACULTY', 'Faculty'), ('STAFF', 'Non-Teaching Staff'), ('STUDENT', 'Student'), ('GUEST', 'Guest Faculty')], default='STUDENT', max_length=10)),
                ('gender', models.CharField(blank=True, choices=[('M', 'Male'), ('F', 'Female'), ('O', 'Other')], max_length=1, null=True)),
                ('phone', models.CharField(blank=True, max_length=15, null=True)),
                ('profile_pic', models.ImageField(blank=True, null=True, upload_to='profile_pics/')),
                ('address', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('fcm_token', models.TextField(blank=True, default='')),
                ('date_joined', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.Group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.Permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'User',
                'verbose_name_plural': 'Users',
                'ordering': ['-date_joined'],
            },
            managers=[
                ('objects', main_app.models.CustomUserManager()),
            ],
        ),
        migrations.CreateModel(
            name='AcademicYear',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('year', models.CharField(max_length=10, unique=True)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('is_current', models.BooleanField(default=False)),
            ],
            options={
                'verbose_name': 'Academic Year',
                'verbose_name_plural': 'Academic Years',
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='Course',
            fields=[
                ('course_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('title', models.CharField(max_length=200)),
                ('course_type', models.CharField(choices=[('THEORY', 'Theory'), ('LAB', 'Laboratory'), ('PROJECT', 'Project'), ('SEMINAR', 'Seminar')], default='THEORY', max_length=10)),
                ('is_lab', models.BooleanField(default=False)),
                ('credits', models.IntegerField(default=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('lecture_hours', models.IntegerField(default=3, validators=[django.core.validators.MinValueValidator(0)])),
                ('tutorial_hours', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('practical_hours', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('semester', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(8)])),
                ('branch', models.CharField(choices=[('CSE', 'Computer Science and Engineering'), ('AIML', 'Artificial Intelligence and Machine Learning'), ('CSBS', 'Computer Science and Business Systems')], default='CSE', max_length=10)),
                ('syllabus_file', models.FileField(blank=True, null=True, upload_to='syllabus/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['semester', 'course_code'],
            },
        ),
        migrations.CreateModel(
            name='Faculty_Profile',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('staff_id', models.CharField(max_length=20, unique=True, verbose_name='Staff ID')),
                ('designation', models.CharField(choices=[('AP', 'Assistant Professor'), ('ASP', 'Associate Professor'), ('PROF', 'Professor'), ('HOD', 'Head of Department')], default='AP', max_length=5)),
                ('is_external', models.BooleanField(default=False, help_text='Mark True for Naan Mudhalvan/SDC/Guest staff', verbose_name='External/Guest Faculty')),
                ('specialization', models.CharField(blank=True, max_length=200, null=True)),
                ('qualification', models.CharField(blank=True, max_length=200, null=True)),
                ('experience_years', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0)])),
                ('date_of_joining', models.DateField(blank=True, null=True)),
                ('contract_expiry', models.DateField(blank=True, help_text='For Guest faculty access control', null=True)),
                ('cabin_number', models.CharField(blank=True, max_length=20, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='faculty_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Faculty Profile',
                'verbose_name_plural': 'Faculty Profiles',
            },
        ),
        migrations.CreateModel(
            name='Regulation',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('year', models.IntegerField(unique=True, validators=[django.core.validators.MinValueValidator(2000), django.core.validators.MaxValueValidator(2100)])),
                ('name', models.CharField(blank=True, max_length=100)),
                ('description', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('effective_from', models.DateField(blank=True, null=True)),
            ],
            options={
                'ordering': ['-year'],
            },
        ),
        migrations.CreateModel(
            name='Student_Profile',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('register_no', models.CharField(max_length=12, unique=True, validators=[django.core.validators.RegexValidator(message='Register number must be exactly 12 digits', regex='^\\d{12}$')], verbose_name='Register Number')),
                ('batch_label', models.CharField(choices=[('N', 'N Section'), ('P', 'P Section'), ('Q', 'Q Section')], max_length=1, verbose_name='Classroom Section')),
                ('branch', models.CharField(choices=[('CSE', 'Computer Science and Engineering'), ('AIML', 'Artificial Intelligence and Machine Learning'), ('CSBS', 'Computer Science and Business Systems')], default='CSE', max_length=10)),
                ('program_type', models.CharField(choices=[('UG', 'Undergraduate'), ('PG', 'Postgraduate'), ('PHD', 'Ph.D.')], default='UG', max_length=5)),
                ('current_sem', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(8)])),
                ('admission_year', models.IntegerField(blank=True, null=True)),
                ('parent_name', models.CharField(blank=True, max_length=200, null=True)),
                ('parent_phone', models.CharField(blank=True, max_length=15, null=True)),
                ('blood_group', models.CharField(blank=True, max_length=5, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('advisor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='advisees', to='main_app.faculty_profile', verbose_name='Faculty Advisor/Counselor')),
                ('regulation', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main_app.regulation')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='student_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Student Profile',
                'verbose_name_plural': 'Student Profiles',
            },
        ),
        migrations.CreateModel(
            name='Student_Achievement',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('event_name', models.CharField(max_length=300)),
                ('event_type', models.CharField(choices=[('HACKATHON', 'Hackathon'), ('CODING', 'Coding Competition'), ('PAPER', 'Paper Presentation'), ('PROJECT', 'Project Competition'), ('SPORTS', 'Sports'), ('CULTURAL', 'Cultural'), ('WORKSHOP', 'Workshop'), ('INTERNSHIP', 'Internship'), ('PLACEMENT', 'Placement'), ('OTHER', 'Other')], default='OTHER', max_length=15)),
                ('award_category', models.CharField(choices=[('GOLD', 'Gold'), ('SILVER', 'Silver'), ('BRONZE', 'Bronze'), ('WINNER', 'Winner'), ('RUNNER_UP', 'Runner Up'), ('PARTICIPATION', 'Participation'), ('MERIT', 'Merit')], max_length=15)),
                ('organizing_body', models.CharField(blank=True, max_length=200, null=True)),
                ('event_date', models.DateField()),
                ('description', models.TextField(blank=True, null=True)),
                ('proof_file', models.FileField(blank=True, null=True, upload_to='achievements/')),
                ('is_verified', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='achievements', to='main_app.student_profile')),
                ('verified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Student Achievement',
                'verbose_name_plural': 'Student Achievements',
                'ordering': ['-event_date'],
            },
        ),
        migrations.CreateModel(
            name='Semester',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('semester_number', models.IntegerField(choices=[(1, 'Semester 1'), (2, 'Semester 2'), (3, 'Semester 3'), (4, 'Semester 4'), (5, 'Semester 5'), (6, 'Semester 6'), (7, 'Semester 7'), (8, 'Semester 8')])),
                ('semester_type', models.CharField(choices=[('ODD', 'Odd Semester'), ('EVEN', 'Even Semester')], max_length=4)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('is_current', models.BooleanField(default=False)),
                ('academic_year', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='semesters', to='main_app.academicyear')),
            ],
            options={
                'ordering': ['-academic_year', 'semester_number'],
                'unique_together': {('academic_year', 'semester_number')},
            },
        ),
        migrations.CreateModel(
            name='Publication',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=500)),
                ('journal_name', models.CharField(max_length=300)),
                ('pub_type', models.CharField(choices=[('JOURNAL', 'Journal Article'), ('CONFERENCE', 'Conference Paper'), ('PATENT', 'Patent'), ('BOOK', 'Book'), ('CHAPTER', 'Book Chapter')], default='JOURNAL', max_length=15)),
                ('doi', models.CharField(blank=True, max_length=200, null=True, unique=True, verbose_name='DOI')),
                ('indexing', models.CharField(choices=[('SCOPUS', 'Scopus'), ('WOS', 'Web of Science'), ('UGC_CARE', 'UGC CARE'), ('SCI', 'SCI'), ('SCIE', 'SCIE'), ('OTHER', 'Other')], default='OTHER', max_length=15)),
                ('year', models.IntegerField(validators=[django.core.validators.MinValueValidator(1990), django.core.validators.MaxValueValidator(2100)])),
                ('month', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(12)])),
                ('authors', models.TextField(help_text='Comma-separated list of all authors')),
                ('impact_factor', models.DecimalField(blank=True, decimal_places=3, max_digits=5, null=True)),
                ('citation_count', models.IntegerField(default=0)),
                ('proof_file', models.FileField(blank=True, null=True, upload_to='publications/')),
                ('is_verified', models.BooleanField(default=False, help_text='Verified by HOD')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('faculty', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='publications', to='main_app.faculty_profile')),
                ('verified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_publications', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-year', '-month'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notification_type', models.CharField(choices=[('INFO', 'Information'), ('WARNING', 'Warning'), ('URGENT', 'Urgent'), ('REMINDER', 'Reminder'), ('ANNOUNCEMENT', 'Announcement')], default='INFO', max_length=15)),
                ('title', models.CharField(max_length=200)),
                ('message', models.TextField()),
                ('is_read', models.BooleanField(default=False)),
                ('read_at', models.DateTimeField(blank=True, null=True)),
                ('link', models.CharField(blank=True, max_length=500, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('recipient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to=settings.AUTH_USER_MODEL)),
                ('sender', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sent_notifications', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NonTeachingStaff_Profile',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('staff_id', models.CharField(max_length=20, unique=True, verbose_name='Staff ID')),
                ('staff_type', models.CharField(choices=[('LAB_ASST', 'Lab Assistant'), ('LAB_TECH', 'Lab Technician'), ('OFFICE', 'Office Staff'), ('ADMIN', 'Administrative Staff'), ('OTHER', 'Other')], default='LAB_ASST', max_length=10)),
                ('department', models.CharField(default='CSE', max_length=100)),
                ('date_of_joining', models.DateField(blank=True, null=True)),
                ('assigned_lab', models.CharField(blank=True, max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='nonteaching_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Non-Teaching Staff Profile',
                'verbose_name_plural': 'Non-Teaching Staff Profiles',
            },
        ),
        migrations.CreateModel(
            name='LeaveRequest',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('leave_type', models.CharField(choices=[('CASUAL', 'Casual Leave'), ('MEDICAL', 'Medical Leave'), ('OD', 'On Duty'), ('VACATION', 'Vacation'), ('MATERNITY', 'Maternity Leave'), ('PATERNITY', 'Paternity Leave'), ('EMERGENCY', 'Emergency Leave')], default='CASUAL', max_length=15)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('reason', models.TextField()),
                ('supporting_document', models.FileField(blank=True, null=True, upload_to='leave_documents/')),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=10)),
                ('admin_remarks', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_leaves', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='leave_requests', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Lab_Issue_Log',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('lab_name', models.CharField(choices=[('CASE_TOOLS', 'CASE Tools Lab'), ('PROGRAMMING', 'Programming Lab'), ('NETWORKS', 'Networks Lab'), ('DBMS', 'DBMS Lab'), ('OS', 'Operating Systems Lab'), ('WEB', 'Web Technology Lab'), ('AI_ML', 'AI/ML Lab'), ('IOT', 'IoT Lab'), ('PROJECT', 'Project Lab'), ('RESEARCH', 'Research Lab')], max_length=20)),
                ('place_code', models.CharField(help_text='Physical desk/system location (e.g., D23)', max_length=10)),
                ('issue_category', models.CharField(choices=[('MONITOR', 'Monitor Issue'), ('KEYBOARD', 'Keyboard Issue'), ('MOUSE', 'Mouse Issue'), ('CPU', 'CPU/System Issue'), ('SOFTWARE', 'Software Issue'), ('NETWORK', 'Network Issue'), ('PRINTER', 'Printer Issue'), ('PROJECTOR', 'Projector Issue'), ('AC', 'AC Issue'), ('FURNITURE', 'Furniture Issue'), ('OTHER', 'Other')], max_length=15)),
                ('priority', models.CharField(choices=[('LOW', 'Low'), ('MEDIUM', 'Medium'), ('HIGH', 'High'), ('CRITICAL', 'Critical')], default='MEDIUM', max_length=10)),
                ('description', models.TextField()),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('IN_PROGRESS', 'In Progress'), ('RESOLVED', 'Resolved'), ('ESCALATED', 'Escalated'), ('CLOSED', 'Closed')], default='PENDING', max_length=15)),
                ('resolution_notes', models.TextField(blank=True, null=True)),
                ('reported_at', models.DateTimeField(auto_now_add=True)),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('assigned_to', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_issues', to='main_app.nonteachingstaff_profile')),
                ('reported_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reported_issues', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Lab Issue Log',
                'verbose_name_plural': 'Lab Issue Logs',
                'ordering': ['-reported_at'],
            },
        ),
        migrations.CreateModel(
            name='Feedback',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('feedback_type', models.CharField(choices=[('GENERAL', 'General Feedback'), ('COURSE', 'Course Feedback'), ('INFRASTRUCTURE', 'Infrastructure'), ('FACULTY', 'Faculty Feedback'), ('SUGGESTION', 'Suggestion'), ('COMPLAINT', 'Complaint')], default='GENERAL', max_length=20)),
                ('subject', models.CharField(max_length=200)),
                ('message', models.TextField()),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('REVIEWED', 'Reviewed'), ('RESOLVED', 'Resolved')], default='PENDING', max_length=10)),
                ('reply', models.TextField(blank=True, null=True)),
                ('is_anonymous', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('related_course', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main_app.course')),
                ('replied_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='feedback_replies', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='feedbacks', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Feedback',
                'verbose_name_plural': 'Feedbacks',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Event',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=300)),
                ('event_type', models.CharField(choices=[('WORKSHOP', 'Workshop'), ('SEMINAR', 'Seminar'), ('WEBINAR', 'Webinar'), ('HACKATHON', 'Hackathon'), ('CULTURAL', 'Cultural Event'), ('SPORTS', 'Sports Event'), ('PLACEMENT', 'Placement Drive'), ('GUEST_LECTURE', 'Guest Lecture'), ('FDP', 'Faculty Development Program'), ('CONFERENCE', 'Conference'), ('OTHER', 'Other')], default='OTHER', max_length=15)),
                ('description', models.TextField()),
                ('start_datetime', models.DateTimeField()),
                ('end_datetime', models.DateTimeField()),
                ('venue', models.CharField(max_length=300)),
                ('is_online', models.BooleanField(default=False)),
                ('online_link', models.URLField(blank=True, null=True)),
                ('max_participants', models.IntegerField(default=0, help_text='0 for unlimited')),
                ('registration_deadline', models.DateTimeField(blank=True, null=True)),
                ('poster', models.ImageField(blank=True, null=True, upload_to='event_posters/')),
                ('status', models.CharField(choices=[('UPCOMING', 'Upcoming'), ('ONGOING', 'Ongoing'), ('COMPLETED', 'Completed'), ('CANCELLED', 'Cancelled')], default='UPCOMING', max_length=15)),
                ('is_department_only', models.BooleanField(default=False, help_text='Only for CSE department')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('coordinator', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='coordinated_events', to='main_app.faculty_profile')),
            ],
            options={
                'ordering': ['-start_datetime'],
            },
        ),
        migrations.CreateModel(
            name='Course_Assignment',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('batch_label', models.CharField(choices=[('N', 'N Section'), ('P', 'P Section'), ('Q', 'Q Section')], max_length=1)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_year', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main_app.academicyear')),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='assignments', to='main_app.course')),
                ('faculty', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='course_assignments', to='main_app.faculty_profile')),
                ('semester', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main_app.semester')),
            ],
            options={
                'verbose_name': 'Course Assignment',
                'verbose_name_plural': 'Course Assignments',
                'ordering': ['-academic_year', 'course'],
                'unique_together': {('course', 'batch_label', 'academic_year', 'semester')},
            },
        ),
        migrations.AddField(
            model_name='course',
            name='regulation',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='courses', to='main_app.regulation'),
        ),
        migrations.CreateModel(
            name='Announcement',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=300)),
                ('content', models.TextField()),
                ('audience', models.CharField(choices=[('ALL', 'All Users'), ('FACULTY', 'Faculty Only'), ('STUDENTS', 'Students Only'), ('STAFF', 'Staff Only')], default='ALL', max_length=10)),
                ('priority', models.CharField(choices=[('LOW', 'Low'), ('NORMAL', 'Normal'), ('HIGH', 'High'), ('URGENT', 'Urgent')], default='NORMAL', max_length=10)),
                ('attachment', models.FileField(blank=True, null=True, upload_to='announcements/')),
                ('is_pinned', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('expiry_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('posted_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='announcements', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-is_pinned', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='EventRegistration',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('attendance_status', models.CharField(choices=[('REGISTERED', 'Registered'), ('ATTENDED', 'Attended'), ('NO_SHOW', 'No Show'), ('CANCELLED', 'Cancelled')], default='REGISTERED', max_length=15)),
                ('registration_time', models.DateTimeField(auto_now_add=True)),
                ('check_in_time', models.DateTimeField(blank=True, null=True)),
                ('certificate_issued', models.BooleanField(default=False)),
                ('event', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='registrations', to='main_app.event')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='event_registrations', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-registration_time'],
                'unique_together': {('event', 'user')},
            },
        ),
        migrations.CreateModel(
            name='Attendance',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('period', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(8)])),
                ('status', models.CharField(choices=[('PRESENT', 'Present'), ('ABSENT', 'Absent'), ('OD', 'On Duty'), ('LEAVE', 'On Leave')], default='PRESENT', max_length=10)),
                ('remarks', models.CharField(blank=True, max_length=200, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('assignment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendances', to='main_app.course_assignment')),
                ('marked_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='marked_attendances', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendances', to='main_app.student_profile')),
            ],
            options={
                'ordering': ['-date', 'period'],
                'unique_together': {('student', 'assignment', 'date', 'period')},
            },
        ),
    ]
